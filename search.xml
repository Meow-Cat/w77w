<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Java 单例模式]]></title>
    <url>%2Fw77w%2F2019%2F04%2F08%2FJava%20%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%2F</url>
    <content type="text"><![CDATA[单例(Singleton)模式 也叫单态模式概述：单例（Singleton）模式要求一个类有且仅有一个实例，并且提供了一个全局的访问点。这就提出了一个问题：如何绕过常规的构造器，提供一种机制来保证一个类只有一个实例？客户程序在调用某一个类时，它是不会考虑这个类是否只能有一个实例等问题的，所以，这应该是类设计者的责任，而不是类使用者的责任。 从另一个角度来说，Singleton模式其实也是一种职责型模式。因为我们创建了一个对象，这个对象扮演了独一无二的角色，在这个单独的对象实例中，它集中了它所属类的所有权力，同时它也肩负了行使这种权力的职责！ 核心作用：保证一个类只有一个实例，并且提供一个访问该实例的全局访问点 应该在什么时候下使用单例模式？ 举一个小例子，在我们的windows桌面上，我们打开了一个回收站，当我们试图再次打开一个新的回收站时，Windows系统并不会为你弹出一个新的回收站窗口。，也就是说在整个系统运行的过程中，系统只维护一个回收站的实例。这就是一个典型的单例模式运用。 继续说回收站，我们在实际使用中并不存在需要同时打开两个回收站窗口的必要性。假如我每次创建回收站时都需要消耗大量的资源，而每个回收站之间资源是共享的，那么在没有必要多次重复创建该实例的情况下，创建了多个实例，这样做就会给系统造成不必要的负担，造成资源浪费。 再举一个例子，网站的计数器，一般也是采用单例模式实现，如果你存在多个计数器，每一个用户的访问都刷新计数器的值，这样的话你的实计数的值是难以同步的。但是如果采用单例模式实现就不会存在这样的问题，而且还可以避免线程安全问题。同样多线程的线程池的设计一般也是采用单例模式，这是由于线程池需要方便对池中的线程进行控制 同样，对于一些应用程序的日志应用，或者web开发中读取配置文件都适合使用单例模式，如HttpApplication 就是单例的典型应用。 从上述的例子中我们可以总结出适合使用单例模式的场景和优缺点： 适用场景 1.需要生成唯一序列的环境 2.需要频繁实例化然后销毁的对象。 3.创建对象时耗时过多或者耗资源过多，但又经常用到的对象。 4.方便资源相互通信的环境 优点 实现了对唯一实例访问的可控 对于一些需要频繁创建和销毁的对象来说可以提高系统的性能。 缺点 不适用于变化频繁的对象 滥用单例将带来一些负面问题，如为了节省资源将数据库连接池对象设计为的单例类，可能会导致共享连接池对象的程序过多而出现连接池溢出。 如果实例化的对象长时间不被利用，系统会认为该对象是垃圾而被回收，这可能会导致对象状态的丢失。 一：只适合单线程环境（不好）1234567891011121314151617package test;/** * @author Phoenix * */public class Singleton &#123; private static Singleton instance=null; private Singleton()&#123; &#125; public static Singleton getInstance()&#123; if(instance == null)&#123; instance=new Singleton(); &#125; return instance; &#125;&#125; 注解: Singleton的静态属性instance中，只有instance为null的时候才创建一个实例，构造函数私有，确保每 次都只创建一个，避免重复创建。 缺点：只在单线程的情况下正常运行，在多线程的情况下，就会出问题。例如：当两个线程同时运行到判断 instance是否为空的if语句，并且instance确实没有创建好时，那么两个线程都会创建一个实例。 二：多线程的情况可以用。（懒汉式，不好）123456789101112public class Singleton &#123; private static Singleton instance=null; private Singleton()&#123; &#125; public static synchronized Singleton getInstance()&#123; if(instance==null)&#123; instance=new Singleton(); &#125; return instance; &#125;&#125; 注解：在解法一的基础上加上了同步锁，使得在多线程的情况下可以用。例如：当两个线程同时想创建实例， 由于在一个时刻只有一个线程能得到同步锁，当第一个线程加上锁以后，第二个线程只能等待。第一个 线程发现实例没有创建，创建之。第一个线程释放同步锁，第二个线程才可以加上同步锁，执行下面的 代码。由于第一个线程已经创建了实例，所以第二个线程不需要创建实例。保证在多线程的环境下也只 有一个实例。 缺点：每次通过getInstance方法得到singleton实例的时候都有一个试图去获取同步锁的过程。而众所周知， 加锁是很耗时的。能避免则避免。 三：加同步锁时，前后两次判断实例是否存在（可行）12345678910111213141516public class Singleton &#123; private static Singleton instance=null; private Singleton()&#123; &#125; public static Singleton getInstance()&#123; if(instance==null)&#123; synchronized(Singleton.class)&#123; if(instance==null)&#123; instance=new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; 注解：只有当instance为null时，需要获取同步锁，创建一次实例。当实例被创建，则无需试图加锁。 缺点：用双重if判断，复杂，容易出错。 四：饿汉式（建议使用）123456789public class Singleton &#123; private static Singleton instance=new Singleton(); private Singleton()&#123; &#125; public static Singleton getInstance()&#123; return instance; &#125;&#125; 注解：初试化静态的instance创建一次。如果我们在Singleton类里面写一个静态的方法不需要创建实例，它 仍然会早早的创建一次实例。而降低内存的使用率。 缺点：没有lazy loading的效果，从而降低内存的使用率。 五：静态内部内。（建议使用）1234567891011public class Singleton &#123; private Singleton()&#123; &#125; private static class SingletonHolder&#123; private final static Singleton instance=new Singleton(); &#125; public static Singleton getInstance()&#123; return SingletonHolder.instance; &#125;&#125; 注解：定义一个私有的内部类，在第一次用这个嵌套类时，会创建一个实例。而类型为SingletonHolder的 类，只有在Singleton.getInstance()中调用，由于私有的属性，他人无法使用SingleHolder，不调用 Singleton.getInstance()就不会创建实例。 优点：达到了lazy loading的效果，即按需创建实例。]]></content>
      <tags>
        <tag>java</tag>
        <tag>java设计模式</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[java中Math的用法]]></title>
    <url>%2Fw77w%2F2019%2F04%2F03%2Fjava%E4%B8%ADMath%E7%9A%84%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Math.sqrt(a) : 计算平方根 Math.cbrt(a) : 计算立方根 Math.pow(a,b) : 计算a的b次方 Math.max(a,b) : 计算最大值 Math.min(a,b) : 计算最小值 Math.abs(a) : 取绝对值]]></content>
      <tags>
        <tag>java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[json]]></title>
    <url>%2Fw77w%2F2019%2F04%2F03%2Fjson%2F</url>
    <content type="text"><![CDATA[112撒大叔大所大时代ad阿斯达]]></content>
      <tags>
        <tag>json</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[李开复给女儿的信：你该如何度过大学生涯]]></title>
    <url>%2Fw77w%2F2018%2F12%2F03%2F%E6%9D%8E%E5%BC%80%E5%A4%8D%E7%BB%99%E5%A5%B3%E5%84%BF%E7%9A%84%E4%BF%A1%EF%BC%9A%E4%BD%A0%E8%AF%A5%E5%A6%82%E4%BD%95%E5%BA%A6%E8%BF%87%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B6%AF%20-%20%E5%89%AF%E6%9C%AC%2F</url>
    <content type="text"><![CDATA[Dear Daughter: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As we drove off from Columbia, I wanted to write a letter to you to tell you all that is on my mind.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;First, I want to tell you how proud we are. Getting into Columbia is a real testament of what a great well-rounded student you are. Your academic, artistic, and social skills have truly blossomed in the last few years. Whether it is getting the highest grade in Calculus, completing your elegant fashion design, successfully selling your painted running shoes, or becoming one of the top orators in Model United Nations, you have become a talented and accomplished young woman. You should be as proud of yourself as we are.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I will always remember the first moment I held you in my arms. I felt a tingling sensation that directly touched my heart. It was an intoxicating feeling I will always have. It must be that “father-daughter connection” which will bind us for life. I will always remember singing you lullaby while I rocked you to sleep. When I put you down, it was always with both relief (she finally fell asleep!) and regret (wishing I could hold you longer). And I will always remember taking you to the playground, and watching you having so much fun. You were so cute and adorable, and that is why everybody loved you so.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You have been a great kid ever since you were born, always quiet, empathetic, attentive, and well-mannered. You were three when we built our house. I remember you quietly followed us every weekend for more than ten hours a day to get building supplies. You put up with that boring period without a fuss, happily ate hamburgers every meal in the car, sang with Barney until you fell asleep. When you went to Sunday Chinese school, you studied hard even though it was no fun for you. I cannot believe how lucky we are as parents to have a daughter like you.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You have been an excellent elder sister. Even though you two had your share of fights, the last few years you have become best friends. Your sister loves you so much, and she loves to make you laugh. She looks up to you, and sees you as her role model. As you saw when we departed, she misses you so much. And I know that you miss her just as much. There is nothing like family, and other than your parents, your sister is the one person who you can trust and confide in. She will be the one to take care of you, and the one you must take care of. There is nothing we wish more than that your sisterhood will continue to bond as you grow older, and that you will take care of each other throughout your lives. For the next four years, do have a short video chat with her every few days, and do email her when you have a chance.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;College will be the most important years in your life. It is in college that you will truly discover what learning is about. You often question “what good is this course”. I encourage you to be inquisitive, but I also want to tell you: “Education is what you have left after all that is taught is forgotten.” What I mean by that is the materials taught isn’t as important as you gaining the ability to learn a new subject, and the ability to analyze a new problem. That is really what learning in college is about – this will be the period where you go from teacher-taught to master-inspired, after which you must become self-learner. So do take each subject seriously, and even if what you learn isn’t critical for your life, the skills of learning will be something you cherish forever.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do not fall into the trap of dogma. There is no single simple answer to any question. Remember during your high school debate class, I always asked you to take on the side that you don’t believe in? I did that for a reason – things rarely “black and white”, and there are always many ways to look at a problem. You will become a better problem solver if you recognized that. This is called “critical thinking”, and it is the most important thinking skill you need for your life. This also means you need to become tolerant and supportive of others. I will always remember when I went to my Ph.D. advisor and proposed a new thesis topic. He said “I don’t agree with you, but I’ll support you.” After the years, I have learned this isn’t just flexibility, it is encouragement of critical thinking, and an empowering style of leadership, and it has become a part of me. I hope it will become a part of you too.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Follow your passion in college. Take courses you think you will enjoy. Don’t be trapped in what others think or say. Steve Jobs says when you are in college, your passion will create many dots, and later in your life you will connect them. In his great speech given at Stanford commencement, he gave the great example where he took calligraphy, and a decade later, it became the basis of the beautiful Macintosh fonts, which later ignited desktop publishing, and brought wonderful tools like Microsoft Word to our lives. His expedition into calligraphy was a dot, and the Macintosh became the connecting line. So don’t worry too much about what job you will have, and don’t be too utilitarian, and if you like Japanese or Korean, go for it, even if your dad thinks “it’s not useful” : ) Enjoy picking your dots, and be assured one day you will find your calling, and connect a beautiful curve through the dots.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do your best in classes, but don’t let pressure get to you. Your mother and I have no expectations for your grades. If you graduate and learn something in your four years, we would feel happy. Your Columbia degree will take you far, even if you don’t graduate with honors. So please don’t give yourself pressure. During your last few months in high school, you were so happy because there was little pressure and college applications are finished. But in the past few weeks, we saw you are beginning to worry (did you know you bite your nails when you are nervous?). Please don’t be worried. The only thing that matters is that you learned. The only metric you should use is that you tried. Grades are just silly letters that give the vain people something to brag, and the lazy people something to fear. You are too good to be either.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Most importantly, make friends and be happy. College friends are often the best in life, because during college you are closer to them physically than to your family. Also, going through independence and adulthood is a natural bonding experience. Pick a few friends and become really close to them – pick the ones who are genuine and sincere to you. Don’t worry about their hobbies, grades, looks, or even personalities. You have developed some real friendships in high school in your last two years, so trust your instinct, and make new friends. You are a genuine and sincere person – anyone would enjoy being your friend, so be confident, outgoing, and pro-active. If you think you like someone, tell her. You have very little to lose. Give people the benefit of the doubt; don’t stereotype and be forgiving. People are not perfect, so as long as they are genuine and sincere, trust them and be good to them. They will give back. This is my secret of success – that I am genuine with people and trust them (unless they do something to lose my trust). Some people tell me that occasionally I would be taken advantage of. They are right, but I can tell you that that loss is nothing compared to what I gained. In my last 18 years leading people, I have realized that only one thing matters – to gain the trust and respect of others, and to do so, you need to trust and respect others first. Whether it is for management, work, or friendship, this is something you should ponder.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do keep your high school friends, and stay connected to them, but do not use them as substitutes for college friendship, and do not spend too much time with them, because that would eat into your time to make new friends.&nbsp;&nbsp;&nbsp;Start planning for your summers early – what would you like to do? Where would you like to live? What would you like to learn? What have you learned in college that might change your mind? I think your plan of studying fashion is good, and you should decide where you want to be, and get into the right courses. We of course hope you come back to Beijing, but you should go where you think is best for you.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether it is summer-planning, or coursework planning, or picking a major, or managing your time, you should take control of your life. In the past, I have helped you quite a bit, whether it is in college application, designing your extracurricular activities, or picking the initial coursework. I will always be there for you, but the time has come for you to be in the driver’s seat – this is your life, and you need to be in control. I will always remember the exhilarating feeling in my life – that I got to decide to skip kindergarten, that I got to decide to change to computer science major, that I got to decide to leave academia for Apple, that I got to decide to go to China, that I got to decide to go to Google, and most recently, that I got to decide to start my own business. Being able to decide means you get to live the life that you want to. Life is too short to live the life others do or others want you. Being in control feels great. Try it, and you’ll love it!&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I told your mom I’m writing this letter, and asked what she wanted me to say. She thought and said: “just ask her to take care of herself.” Simple but deeply caring – that is how your mother is, and that is why you love her so much. In this simple sentence is her hope that you will become independent in the way you take care of yourself – that you will remember to take your medicine, that you will get enough sleep, that you will have a balanced diet, that you will get some exercise, and that you will go see a doctor whenever you don’t feel good. An ancient Chinese proverb says that the most important thing to be nice to your parents is to take care of yourself. This is because your parents love you so much, and that if you are well, they will have comfort. You will understand this one day when you become a mother. But in the meantime, please listen to your mother and take care of yourself.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;College is the four years where you have:the greatest amount of free timethe first chance to be independentthe most flexibility to changethe lowest risk for making mistakes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So please treasure your college years – make the best of your free time, become an independent thinker in control of your destiny, evolve yourself into a bi-cultural talent, be bold to experiment, learn and grow through your successes and challenges.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When I faced the greatest challenge and opportunity in my life in 2005, you gave me a big hug and said “bonne chance”, which means “good luck” and “good courage”. Now I do the same for you. Bonne chance, my angel and princess. May Columbia become the happiest four years in your life, and may you blossom into just what you dream to be.Love, Dad (&amp; Mom)]]></content>
      <tags>
        <tag>英语美文</tag>
        <tag>书信</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[人生的四季]]></title>
    <url>%2Fw77w%2F2018%2F11%2F08%2F%E4%BA%BA%E7%94%9F%E7%9A%84%E5%9B%9B%E5%AD%A3%2F</url>
    <content type="text"><![CDATA[Four seasons of the life Four seasons to fill up a year’s time, A person’s heart also contains four seasons. In the spring of his youthful, in an instant, Clear handsome reward absorbed all of beatuy. In summer, he loved the young mind In the spring mining nectar savour repeatedly. To appreciate the sweet fragrance of honey, In this meditation and fly hight. His heart fall like wings Then he tucked contentedly wings. Lazy at fog color, Feast for the eyes of all things Like creek drips throuht the door, not in his hear. He also has a recognition of the pale winter, Unless he went before the nature of death.]]></content>
      <tags>
        <tag>英语美文</tag>
        <tag>书信</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[json格式的字符串和list之间的互相转换]]></title>
    <url>%2Fw77w%2F2018%2F10%2F14%2Fjson%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8Clist%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BA%92%E7%9B%B8%E8%BD%AC%E6%8D%A2%2F</url>
    <content type="text"><![CDATA[引用jar包阿里的fastJson.jar： list转换为jsonList list = new ArrayList(); String str=JSON.toJSON(list).toString(); json转换为listList list = new ArrayList(); list = JSONObject.parseArray(jasonArray, Person.class);]]></content>
      <tags>
        <tag>json</tag>
        <tag>list</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Please Dress Me in Red]]></title>
    <url>%2Fw77w%2F2018%2F10%2F12%2FPleaseDressMeinRed%2F</url>
    <content type="text"><![CDATA[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In my dual profession as an educator and health care provider, I have worked with numerous children infected with the virus that causes AIDS. The relationships that I have had with these special kids have been gifts in my life. They have taught me so many things, but I have especially learned that great courage can be found in the smallest of packages. Let me tell you about Tyler.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tyler was born infected with HIV: his mother was also infected. From the very beginning of his life, he was dependent on medications to enable him to survive. When he was five, he had a tube surgically inserted in a vein in his chest. This tube was connected to a pump, which he carried in a small backpack on his back. Medications were hooked up to this pump and were continuously supplied through this tube to his bloodstream. At times, he also needed supplemented oxygen to support his breathing.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tyler wasn’t willing to give up one single moment of his childhood to this deadly disease. It was not unusual to find him playing and racing around his backyard, wearing his medicine-laden backpack and dragging his tank of oxygen behind him in his little wagon. All of us who knew Tyler marveled at his pure joy in being alive and the energy it gave him. Tyler’s mom often teased him by telling him that he moved so fast she needed to dress him in red. That way, when she peered through the window to check on him playing in the yard, she could quickly spot him.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This dreaded disease eventually wore down even the likes of a little dynamo like Tyler. He grew quite ill and, unfortunately, so did his HIV-infected mother. When it became apparent that he wasn’t going to survive, Tyler’s mom talked to him about death. She comforted him by telling Tyler that she was dying too, and that she would be with him soon in heaven.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A few days before his death, Tyler beckoned me over to his hospital bed and whispered, “I might die soon. I’m not scared. When I die, please dress me in red. Mom promised she’s coming to heaven, too. I’ll be playing when she gets there, and I want to make sure she can find me.”]]></content>
      <tags>
        <tag>英语美文</tag>
        <tag>散文</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[WindFlowers(风飞花)]]></title>
    <url>%2Fw77w%2F2018%2F10%2F12%2FWINDFLOWERS%2F</url>
    <content type="text"><![CDATA[​Wind Flowers，Wind Flowers my father told me not to go near them he said he feared them always and he told me that they carried him away Wind Flowers,beautiful windflowers I count not wait to touch them To smell them I held them closely And now , I connot break away Their sweet bouquet disappears like the vapor in the desert So take a warning, son Wind Flowers,ancient windflowers their beauty capture every young dreamer who lingers near them But ancient windflowers, I love you]]></content>
      <tags>
        <tag>英语美文</tag>
        <tag>诗文</tag>
      </tags>
  </entry>
</search>
